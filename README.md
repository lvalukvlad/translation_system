# Система машинного перевода с контекстным пониманием

Веб-приложение для машинного перевода текстов с поддержкой контекстного анализа, культурных особенностей и различных стилей перевода.

## Основные возможности

- **Многоязычный перевод**: Поддержка перевода между русским, английским, французским, немецким, испанским, итальянским, китайским и японским языками
- **Автоматическое определение языка**: Система автоматически определяет исходный язык текста
- **Контекстный анализ**: Учёт стиля, диалекта и культурных особенностей при переводе
- **Варианты перевода**: Генерация нескольких вариантов перевода (формальный, неформальный, поэтичный, буквальный)
- **Граф знаний**: Визуализация графа знаний для анализа переводов
- **Система авторизации**: Безопасный вход с паролями и токенами доступа
- **Управление переводами**: Создание, редактирование, локализация и утверждение переводов
- **Предпросмотр файлов**: Предпросмотр содержимого текстовых файлов перед загрузкой

## Требования

- Python 3.8+
- Flask 3.0.3+
- langdetect
- werkzeug

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd translation_system
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите приложение:
```bash
python main.py
```

4. Откройте браузер и перейдите по адресу: `http://127.0.0.1:5000`

## Тестовые учётные данные

- **Переводчик**: `translator1` / `translator123`
- **Редактор**: `editor1` / `editor123`
- **Администратор**: `admin1` / `admin123`

## Использование

### Создание перевода

1. Войдите в систему
2. Перейдите на страницу "Создать перевод"
3. Введите текст или загрузите файл (.txt)
4. Выберите исходный и целевой языки
5. Настройте стиль перевода
6. Нажмите "Создать перевод"

### Редактирование черновика

1. В панели управления выберите перевод со статусом "draft"
2. Нажмите "Редактировать"
3. Внесите изменения и сохраните

### Локализация перевода

1. Выберите перевод и нажмите "Локализовать"
2. Выберите один из вариантов или создайте комбинированный
3. Утвердите выбранный вариант

### Работа с финальной версией

1. После локализации перейдите на страницу финальной версии
2. Просмотрите оригинал, черновик и финальную версию
3. При необходимости отредактируйте или утвердите перевод

## Архитектура

Проект организован по модульному принципу:

- `app/controllers/` - Контроллеры для бизнес-логики
- `app/models/` - Модели данных
- `app/views/` - Представления (маршруты Flask)
- `app/templates/` - HTML шаблоны
- `app/static/` - Статические файлы (CSS, JS)
- `app/services/` - Сервисы (граф знаний, NLP, анализ и т.д.)
- `app/data/` - Датасеты и данные
- `app/knowledge/` - Модули работы с графом знаний
- `app/nlp/` - NLP обработка текста
- `app/inference/` - Движок вывода переводов

## Безопасность

- Пароли хешируются с использованием `werkzeug.security`
- Токены доступа генерируются для каждой сессии
- Защита маршрутов через декоратор `@require_auth`
- Фильтрация переводов по пользователю

## Датасеты

Система использует несколько датасетов:
- `dataset.json` - Базовый датасет переводов
- `dataset_multilang.json` - Многоязычные переводы
- `dataset_common_phrases.json` - Распространённые фразы

## Разработка

Для разработки рекомендуется использовать виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

